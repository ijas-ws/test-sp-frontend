import { Construct } from "constructs";
import { Function as CdkFunction } from "aws-cdk-lib/aws-lambda";
import { Distribution } from "aws-cdk-lib/aws-cloudfront";
import { EdgeFunction } from "./EdgeFunction.js";
import { SsrSite, SsrSiteProps } from "./SsrSite.js";
import { Size } from "./util/size.js";
export interface NextjsSiteProps extends Omit<SsrSiteProps, "nodejs"> {
    imageOptimization?: {
        /**
         * The amount of memory in MB allocated for image optimization function.
         * @default 1024 MB
         * @example
         * ```js
         * memorySize: "512 MB",
         * ```
         */
        memorySize?: number | Size;
    };
}
/**
 * The `NextjsSite` construct is a higher level CDK construct that makes it easy to create a Next.js app.
 * @example
 * Deploys a Next.js app in the `my-next-app` directory.
 *
 * ```js
 * new NextjsSite(stack, "web", {
 *   path: "my-next-app/",
 * });
 * ```
 */
export declare class NextjsSite extends SsrSite {
    protected props: NextjsSiteProps & {
        path: Exclude<NextjsSiteProps["path"], undefined>;
        runtime: Exclude<NextjsSiteProps["runtime"], undefined>;
        timeout: Exclude<NextjsSiteProps["timeout"], undefined>;
        memorySize: Exclude<NextjsSiteProps["memorySize"], undefined>;
        waitForInvalidation: Exclude<NextjsSiteProps["waitForInvalidation"], undefined>;
    };
    constructor(scope: Construct, id: string, props?: NextjsSiteProps);
    protected initBuildConfig(): {
        typesPath: string;
        serverBuildOutputFile: string;
        clientBuildOutputDir: string;
        clientBuildVersionedSubDir: string;
    };
    protected createFunctionForRegional(): CdkFunction;
    protected createFunctionForEdge(): EdgeFunction;
    private createImageOptimizationFunction;
    protected createCloudFrontDistributionForRegional(): Distribution;
    protected createCloudFrontDistributionForEdge(): Distribution;
    private buildServerBehaviorForRegional;
    private buildServerBehaviorForEdge;
    private buildImageBehavior;
    private buildStaticFileBehavior;
    private buildDefaultNextjsBehaviorForRegional;
    private buildDefaultNextjsBehaviorForEdge;
    protected generateBuildId(): string;
}
