"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const nested_cloud_assembly_artifact_1 = require("./nested-cloud-assembly-artifact");
const cloud_assembly_1 = require("../cloud-assembly");
const cacheSym = Symbol();
/**
 * The nested Assembly
 *
 * Declared in a different file to break circular dep between CloudAssembly and NestedCloudAssemblyArtifact
 */
Object.defineProperty(nested_cloud_assembly_artifact_1.NestedCloudAssemblyArtifact.prototype, 'nestedAssembly', {
    get() {
        if (!this[cacheSym]) {
            this[cacheSym] = new cloud_assembly_1.CloudAssembly(this.fullPath);
        }
        return this[cacheSym];
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmVzdGVkLWNsb3VkLWFzc2VtYmx5LWFydGlmYWN0LWF1Zy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm5lc3RlZC1jbG91ZC1hc3NlbWJseS1hcnRpZmFjdC1hdWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxRkFBK0U7QUFDL0Usc0RBQWtEO0FBRWxELE1BQU0sUUFBUSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBRTFCOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsY0FBYyxDQUFDLDREQUEyQixDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtJQUM3RSxHQUFHO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNuQixJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSw4QkFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUNuRDtRQUNELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3hCLENBQUM7Q0FDRixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXN0ZWRDbG91ZEFzc2VtYmx5QXJ0aWZhY3QgfSBmcm9tICcuL25lc3RlZC1jbG91ZC1hc3NlbWJseS1hcnRpZmFjdCc7XG5pbXBvcnQgeyBDbG91ZEFzc2VtYmx5IH0gZnJvbSAnLi4vY2xvdWQtYXNzZW1ibHknO1xuXG5jb25zdCBjYWNoZVN5bSA9IFN5bWJvbCgpO1xuXG4vKipcbiAqIFRoZSBuZXN0ZWQgQXNzZW1ibHlcbiAqXG4gKiBEZWNsYXJlZCBpbiBhIGRpZmZlcmVudCBmaWxlIHRvIGJyZWFrIGNpcmN1bGFyIGRlcCBiZXR3ZWVuIENsb3VkQXNzZW1ibHkgYW5kIE5lc3RlZENsb3VkQXNzZW1ibHlBcnRpZmFjdFxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTmVzdGVkQ2xvdWRBc3NlbWJseUFydGlmYWN0LnByb3RvdHlwZSwgJ25lc3RlZEFzc2VtYmx5Jywge1xuICBnZXQoKSB7XG4gICAgaWYgKCF0aGlzW2NhY2hlU3ltXSkge1xuICAgICAgdGhpc1tjYWNoZVN5bV0gPSBuZXcgQ2xvdWRBc3NlbWJseSh0aGlzLmZ1bGxQYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNbY2FjaGVTeW1dO1xuICB9LFxufSk7XG4iXX0=